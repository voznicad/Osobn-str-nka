<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>≈†kola ‚Äî David Voznica</title>
  <style>
    :root{
      --bg-grad-1: #eef3ff;
      --bg-grad-2: #f6f8fb;
      --text: #111827;
      --card: rgba(255,255,255,.75);
      --shadow: 0 10px 30px rgba(0,0,0,.08);
      --muted: rgba(0,0,0,.06);
      --laneH: 68px;
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg-grad-1:#1c1f25; --bg-grad-2:#101214;
        --text:#f3f4f6; --card:rgba(40,40,45,.55);
        --shadow: 0 10px 30px rgba(0,0,0,.45);
        --muted: rgba(255,255,255,.07);
      }
    }
    *{box-sizing:border-box}
    body{
      margin:0; color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, "SF Pro Text", "Helvetica Neue", Arial;
      background: linear-gradient(180deg,var(--bg-grad-1),var(--bg-grad-2) 60%);
    }
    .page{max-width:1280px;margin:32px auto;padding:0 16px}

    h2.section{margin:0 0 12px 4px;font-size:28px;font-weight:800;display:flex;gap:10px;align-items:center}

    /* === KARTA ROZVRH (stejn√Ω styl jako √övod) === */
    #rozvrh{
      width: min(1100px, calc(100% - 48px));
      margin: 40px auto 60px auto;
      padding: 24px 28px;
      border-radius: 24px;
      background: var(--card);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      position: relative;
      --scale: .8; /* 20% men≈°√≠ */
    }
    #rozvrh .content{
      transform: scale(var(--scale));
      transform-origin: top left;
      width: calc(100% / var(--scale)); /* vypln√≠ kartu p≈ôesnƒõ po zmen≈°en√≠ */
    }

    /* P≈ôep√≠naƒç t√Ωdn≈Ø */
    .segwrap{display:flex;gap:8px;margin:4px 0 14px 0}
    .segmented{display:inline-flex;gap:4px;background:var(--muted);padding:4px;border-radius:999px}
    .seg{
      appearance:none;border:0;background:transparent;
      padding:8px 14px;border-radius:999px;font-weight:800;cursor:pointer;color:var(--text)
    }
    .seg.active{background:#fff;box-shadow: 0 4px 12px rgba(0,0,0,.08)}
    @media (prefers-color-scheme: dark){ .seg.active{background:rgba(255,255,255,.1)} }

    /* Tabulka rozvrhu */
    .tt{ --cols: 12; }
    .tt-head{
      display:grid; gap:8px; margin-bottom:8px;
      grid-template-columns: 120px repeat(var(--cols), minmax(88px, 1fr));
    }
    .th{ background: var(--muted); border-radius:12px; text-align:center; padding:16px 10px; font-weight:900 }
    .th .sub{ display:none }

    .tt-row{
      display:grid; gap:8px; margin-bottom:8px;
      grid-template-columns: 120px 1fr;
      align-items: stretch;
    }
    .day{ display:flex; align-items:center; justify-content:center; font-weight:900; font-size:20px; border-radius:12px; background: var(--muted) }

    .track{
      display:grid; position:relative;
      grid-template-columns: repeat(var(--cols), minmax(88px,1fr));
      grid-auto-rows: var(--laneH);
      grid-auto-flow: dense;
      gap:0; border-radius:12px; background: transparent;
    }

    .event{
      border-radius:12px; border:3px solid currentColor;
      display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
      text-align:center; padding:8px 10px; min-height:var(--laneH);
      font-weight:800;
      background: color-mix(in srgb, currentColor 8%, transparent);
    }
    .event .room{ font-size:13px; opacity:.9; margin-top:auto }
    .red{ color:#d01a1a }
    .blue{ color:#155bb8 }
    @media (prefers-color-scheme: dark){
      .event{ background: color-mix(in srgb, currentColor 18%, transparent) }
    }

    .hidden{display:none!important}

    @media (max-width: 980px){
      .tt-head{ grid-template-columns: 90px repeat(var(--cols), 1fr) }
      .tt-row{ grid-template-columns: 90px 1fr }
      .event{ font-size:12px }
      .event .room{ font-size:12px }
    }
  </style>
</head>
<body>
  <main class="page">
    <section id="rozvrh">
      <h2 class="section">üìÖ Rozvrh</h2>

      <div class="content">
        <!-- P≈ôep√≠naƒç t√Ωdn≈Ø -->
        <div class="segwrap">
          <div class="segmented" role="tablist" aria-label="T√Ωden">
            <button class="seg active" data-view="even" role="tab" aria-selected="true">sud√Ω</button>
            <button class="seg" data-view="odd" role="tab">lich√Ω</button>
          </div>
        </div>

        <!-- Hlaviƒçka ƒças≈Ø -->
        <div class="tt">
          <div class="tt-head">
            <div></div>
            <div class="th">7:15 ‚Äì 8:00</div>
            <div class="th">8:00 ‚Äì 8:45</div>
            <div class="th">9:00 ‚Äì 9:45</div>
            <div class="th">9:45 ‚Äì 10:30</div>
            <div class="th">10:45 ‚Äì 11:30</div>
            <div class="th">11:30 ‚Äì 12:15</div>
            <div class="th">12:30 ‚Äì 13:15</div>
            <div class="th">13:15 ‚Äì 14:00</div>
            <div class="th">14:15 ‚Äì 15:00</div>
            <div class="th">15:00 ‚Äì 15:45</div>
            <div class="th">16:00 ‚Äì 16:45</div>
            <div class="th">16:45 ‚Äì 17:30</div>
          </div>

          <!-- ≈ò√°dky dn√≠ -->
          <div class="tt-row">
            <div class="day">PO</div>
            <div class="track" id="even-day-1"></div>
          </div>
          <div class="tt-row">
            <div class="day">√öT</div>
            <div class="track" id="even-day-2"></div>
          </div>
          <div class="tt-row">
            <div class="day">ST</div>
            <div class="track" id="even-day-3"></div>
          </div>

          <!-- Lich√Ω t√Ωden (skryt√Ω, p≈ôep√≠n√° se tlaƒç√≠tkem) -->
          <div class="tt-row hidden" id="odd-row-1">
            <div class="day">PO</div>
            <div class="track" id="odd-day-1"></div>
          </div>
          <div class="tt-row hidden" id="odd-row-2">
            <div class="day">√öT</div>
            <div class="track" id="odd-day-2"></div>
          </div>
          <div class="tt-row hidden" id="odd-row-3">
            <div class="day">ST</div>
            <div class="track" id="odd-day-3"></div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    /* Definice ƒçasov√Ωch slot≈Ø */
    const slots = [
      "7:15-8:00","8:00-8:45","9:00-9:45","9:45-10:30",
      "10:45-11:30","11:30-12:15","12:30-13:15","13:15-14:00",
      "14:15-15:00","15:00-15:45","16:00-16:45","16:45-17:30"
    ];
    const si = s => slots.indexOf(s)+1;

    /* Data ‚Äî SUD√ù t√Ωden */
    const even = [
      {day:1, from:"10:45-11:30", to:"11:30-12:15", title:"ZDS ‚Äî I. Pet≈ô√≠kov√°", room:"POREC1", color:"red"},
      {day:1, from:"16:00-16:45", to:"16:45-17:30", title:"LA ‚Äî P. Beremlijski", room:"POREC1", color:"red"},
      {day:2, from:"7:15-8:00",  to:"8:00-8:45",  title:"ULM ‚Äî M. Men≈°√≠k", room:"POREC1", color:"red"},
      {day:2, from:"9:00-9:45",  to:"9:45-10:30", title:"UPR ‚Äî J. Gaura", room:"POREC1", color:"red"},
      {day:2, from:"14:15-15:00", to:"15:00-15:45", title:"ZIT ‚Äî M. Radeck√Ω", room:"POREC1", color:"blue"},
      {day:3, from:"9:00-9:45",  to:"9:45-10:30", title:"UPR ‚Äî J. Gaura", room:"POREB208", color:"blue"},
      {day:3, from:"10:45-11:30", to:"11:30-12:15", title:"ULM ‚Äî A. Albert", room:"POREB331", color:"blue"},
      {day:3, from:"12:30-13:15", to:"13:15-14:00", title:"LA ‚Äî R. Kalus", room:"PORUA4", color:"blue"},
      {day:3, from:"14:15-15:00", to:"15:00-15:45", title:"ZDS ‚Äî I. Pet≈ô√≠kov√°", room:"POREB218", color:"blue"},
      {day:3, from:"16:00-16:45", to:"16:45-17:30", title:"A/I-FEI ‚Äî E. Smyƒçkov√°", room:"PORRV202", color:"blue"},
    ];

    /* Data ‚Äî LICH√ù t√Ωden (bez UPR 9:00‚Äì10:30 v √öT) */
    const odd = [
      {day:1, from:"10:45-11:30", to:"11:30-12:15", title:"ZDS ‚Äî I. Pet≈ô√≠kov√°", room:"POREC1", color:"red"},
      {day:1, from:"16:00-16:45", to:"16:45-17:30", title:"LA ‚Äî P. Beremlijski", room:"POREC1", color:"red"},
      {day:2, from:"7:15-8:00",  to:"8:00-8:45",  title:"ULM ‚Äî M. Men≈°√≠k", room:"POREC1", color:"red"},
      {day:2, from:"14:15-15:00", to:"15:00-15:45", title:"ZIT ‚Äî M. Radeck√Ω", room:"POREC1", color:"blue"},
      {day:3, from:"9:00-9:45",  to:"9:45-10:30", title:"UPR ‚Äî J. Gaura", room:"POREB208", color:"blue"},
      {day:3, from:"10:45-11:30", to:"11:30-12:15", title:"ULM ‚Äî A. Albert", room:"POREB331", color:"blue"},
      {day:3, from:"12:30-13:15", to:"13:15-14:00", title:"LA ‚Äî R. Kalus", room:"PORUA4", color:"blue"},
      {day:3, from:"14:15-15:00", to:"15:00-15:45", title:"ZDS ‚Äî I. Pet≈ô√≠kov√°", room:"POREB218", color:"blue"},
      {day:3, from:"16:00-16:45", to:"16:45-17:30", title:"A/I-FEI ‚Äî E. Smyƒçkov√°", room:"PORRV202", color:"blue"},
    ];

    function placeEvents(container, items){
      container.innerHTML = "";
      items.sort((a,b)=> si(a.from) - si(b.from));
      const lanes = [];
      items.forEach(ev => {
        const s = si(ev.from), e = si(ev.to);
        let lane = 1;
        while(lanes[lane] && lanes[lane] > s) lane++;
        lanes[lane] = e;
        const node = document.createElement("div");
        node.className = `event ${ev.color}`;
        node.style.gridColumn = `${s} / ${e+1}`;
        node.style.gridRow = `${lane}`;
        node.innerHTML = `<div>${ev.title}</div><div class="room">${ev.room || ""}</div>`;
        container.appendChild(node);
      });
      const rows = Math.max(1, lanes.length);
      container.style.gridTemplateRows = `repeat(${rows}, var(--laneH))`;
    }

    function render(view){
      const e1 = document.getElementById("even-day-1");
      const e2 = document.getElementById("even-day-2");
      const e3 = document.getElementById("even-day-3");
      const o1 = document.getElementById("odd-day-1");
      const o2 = document.getElementById("odd-day-2");
      const o3 = document.getElementById("odd-day-3");

      const isEven = view === "even";
      document.getElementById("odd-row-1").classList.toggle("hidden", isEven);
      document.getElementById("odd-row-2").classList.toggle("hidden", isEven);
      document.getElementById("odd-row-3").classList.toggle("hidden", isEven);

      const data = isEven ? even : odd;
      const byDay = {1:[],2:[],3:[]};
      data.forEach(ev => byDay[ev.day].push(ev));
      placeEvents(isEven?e1:o1, byDay[1]);
      placeEvents(isEven?e2:o2, byDay[2]);
      placeEvents(isEven?e3:o3, byDay[3]);
    }

    document.querySelectorAll(".seg").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        document.querySelectorAll(".seg").forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        render(btn.dataset.view);
      });
    });
    window.addEventListener("load", ()=> render("even"));
    window.addEventListener("resize", ()=>{
      const active = document.querySelector(".seg.active")?.dataset.view || "even";
      render(active);
    });
  </script>
</body>
</html>
